<script setup lang="ts">
const releaseNotes = ref([
  {
    version: '2.38.0',
    date: '2022-10-28',
    content: [
      {
        title: 'æ–°å¢åŠŸèƒ½',
        type: 'add',
        list: ['space: å¢åŠ splitæ’æ§½']
      },
      {
        title: 'é—®é¢˜ä¿®å¤',
        type: 'fix',
        list: ['select: ä¿®å¤ formatLabel åœ¨æ— æ•°æ®æ—¶æŠ¥é”™çš„é—®é¢˜', 'modal:ä¿®å¤è‡ªå®šä¹‰ style æ—¶ z-index ä¸èƒ½ç”Ÿæ•ˆçš„é—®é¢˜']
      },
      {
        title: 'æ ·å¼æ›´æ–°',
        type: 'style',
        list: ['table: ä¿®å¤æš—é»‘æ¨¡å¼ä¸‹ stripe æ ·å¼é—®é¢˜']
      },
      {
        title: 'ç±»å‹ä¿®æ­£',
        type: 'type',
        list: ['æ·»åŠ å®ä¾‹ç±»å‹å¯¼å‡º']
      }
    ]
  },
  {
    version: '2.37.0',
    date: '2022-10-21',
    content: [
      {
        title: 'é—®é¢˜ä¿®å¤',
        type: 'fix',
        list: [
          'date-picker: ä¿®å¤ formatLabel åœ¨æ— æ•°æ®æ—¶æŠ¥é”™çš„é—®é¢˜',
          'trigger: ä¿®å¤åœ¨ windows ä¸­ arrow å®šä½é”™è¯¯çš„é—®é¢˜',
          'modal: ä¿®å¤å‡½æ•°å¼è°ƒç”¨ä¸‹ï¼Œä¼ å…¥å­ç»„ä»¶ä¸ä¼šè§¦å‘å¸è½½çš„é—®é¢˜'
        ]
      },
      {
        title: 'åŠŸèƒ½ä¼˜åŒ–',
        type: 'opt',
        list: [
          'cascader: ä¼˜åŒ–å¤šé€‰æ—¶çš„å­èœå•å…¨éƒ¨ç¦ç”¨æ—¶ï¼Œçˆ¶çº§ç¦æ­¢é€‰æ‹©',
          'progress: ä¼˜åŒ–åˆ†å‰²ç‚¹çš„å±•ç¤ºé€»è¾‘',
          'pagination: ä¼˜åŒ–è¾“å…¥é¡µç æ—¶çš„æ•°å­—å¤„ç†'
        ]
      }
    ]
  }
])
const icons: any = {
  add: 'ğŸ†•',
  fix: 'ğŸ›',
  style: 'ğŸ’… ',
  type: 'ğŸ† ',
  opt: 'ğŸ’ '
}
</script>

<template>
  <a-timeline mode="left" labelPosition="relative">
    <a-timeline-item v-for="(note, index) in releaseNotes" :key="index" class="release-note-item">
      <div class="release-note-info">
        <p class="release-note-version">{{ note.version }}</p>
        <p class="release-note-date">{{ note.date }}</p>
      </div>
      <div class="release-note-content" v-if="note.content">
        <section v-for="(content, idx) in note.content" :key="idx">
          <h3 class="changelog-content-type">{{ icons[content.type] }} {{ content.title }}</h3>
          <ul class="changelog-content-list">
            <li v-for="text in content.list" :key="text">{{ text }}</li>
          </ul>
        </section>
      </div>
    </a-timeline-item>
  </a-timeline>
</template>

<style lang="less" scoped>
.release-note-item {
  margin-bottom: 10px;
  margin-left: 20px;
  :deep(.arco-timeline-item-dot-line) {
    border-color: var(--color-fill-3);
  }
  :deep(.arco-timeline-item-content) {
    display: flex;
  }
}
.release-note-info {
  flex-grow: 0;
  flex-shrink: 0;
  width: 100px;
  .release-note-version {
    color: var(--color-text-1);
    font-weight: 500;
  }
  .release-note-date {
    font-size: 12px;
    color: var(--color-text-3);
  }
}
.release-note-content {
  flex: 1;
  .changelog-content-type {
    color: var(--color-text-2);
    font-weight: 500;
    line-height: 24px;
    margin: 0;
  }
  ul.changelog-content-list {
    list-style: circle;
    margin: 10px 0;
    padding-left: 30px;
    line-height: 30px;
  }
}
</style>
